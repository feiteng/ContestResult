<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>76_beet.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>76_beet.cpp</CENTER></H3><HR>
<PRE>

class Solution {
public:
  int ans;

  deque&lt;int&gt; dfs(TreeNode* v,int d){
    deque&lt;int&gt; res(d,0);
    res[0]=1;
      
    if(v-&gt;left)  res[0]=0;
    if(v-&gt;right) res[0]=0;

    if(v-&gt;left){
      auto tmp=dfs(v-&gt;left,d);
      tmp.push_front(0);
      tmp.pop_back();
      for(int i=0;i&lt;d;i++) res[i]+=tmp[i];
<A NAME="0"></A>    }

    if(v-&gt;right){
<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match7-0.html#0',2,'match7-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>      auto tmp=dfs(v-&gt;right,d);
      tmp.push_front(0);
      tmp.pop_back();

      for(int i=0;i&lt;d;i++)
        for(int j=0;j&lt;d;j++)
          if(i+j&lt;=d) ans+=res[i]*tmp[j];

      for(int i=0;i&lt;d;i++) res[i]+=tmp[i];</B></FONT>
    }
    return res;
  }

  int countPairs(TreeNode* root, int distance) {
    ans=0;
    dfs(root,distance);
    return ans;
  }
};
</PRE>
</BODY>
</HTML>
