<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>70_xaruf.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>70_xaruf.java</CENTER></H3><HR>
<PRE>
class Solution {
  private long[] factorial = new long[9];
  
  public double getProbability(int[] paramArrayOfint) {
    this.factorial[0] = 1L;
    int i;
    for (i = 1; i &lt; 9; i++)
      this.factorial[i] = i * this.factorial[i - 1]; 
    i = 0;
    int[] arrayOfInt;
    int j = (arrayOfInt = paramArrayOfint).length;
    for (byte b = 0; b &lt; j; b++) {
      int k = arrayOfInt[b];
      i += k;
    } 
    long[] arrayOfLong = new long[2];
    getProbability(0, new int[paramArrayOfint.length], i / 2, paramArrayOfint, arrayOfLong);
    return (double) arrayOfLong[0] / arrayOfLong[1];
  }
  
  private void getProbability(int paramInt1, int[] paramArrayOfint1, int paramInt2, int[] paramArrayOfint2, long[] paramArrayOflong) {
    if (paramInt1 == paramArrayOfint1.length) {
      if (paramInt2 == 0) {
        byte b1 = 0;
        byte b2 = 0;
        long l = 1L;
        for (byte b3 = 0; b3 &lt; paramArrayOfint1.length; b3++) {
          if (paramArrayOfint1[b3] == paramArrayOfint2[b3]) {
            b1++;
          } else if (paramArrayOfint1[b3] == 0) {
            b2++;
          } else {
            l *= this.factorial[paramArrayOfint2[b3]] / this.factorial[paramArrayOfint1[b3]] / this.factorial[paramArrayOfint2[b3] - paramArrayOfint1[b3]];
            b1++;
            b2++;
          } 
        } 
        if (b1 == b2)
          paramArrayOflong[0] = paramArrayOflong[0] + l; 
<A NAME="0"></A>        paramArrayOflong[1] = paramArrayOflong[1] + l;
      } 
    } else {
      <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match12-1.html#0',3,'match12-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>for (byte b = 0; b &lt;= Math.min(paramInt2, paramArrayOfint2[paramInt1]); b++) {
        paramArrayOfint1[paramInt1] = b;
        getProbability(paramInt1 + 1, paramArrayOfint1, paramInt2 - b, paramArrayOfint2, paramArrayOflong);
        paramArrayOfint1[paramInt1] = 0;
      } 
    }</B></FONT> 
  }
}
</PRE>

</BODY>
</HTML>
