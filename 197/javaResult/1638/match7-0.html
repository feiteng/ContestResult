<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>626_DavidElaine.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>626_DavidElaine.java</CENTER></H3><HR>
<PRE>
class Solution {
	class Point {
<A NAME="0"></A>		double x;
		double y;

		public Point(d<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match7-1.html#0',3,'match7-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ouble x, double y) {
			this.x = x;
			this.y = y;
<A NAME="1"></A>		}
	};</B></FONT>

	double <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match7-1.html#1',3,'match7-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>lower_limit = 0.00001;

	double distSum(Point p, Point arr[], int n) {
		double sum = 0;
		for (int i = 0; i &lt; n; i++) {
			double distx = Math.abs(arr[i].x - p.x);
			double disty = Math.abs(arr[i].y - p.y);
			sum += Math.sqrt((distx * distx) + (disty * disty));
		}

		return sum;
<A NAME="2"></A>	}

	private double geometricMedian(Point arr[], int n) {</B></FONT>
		Point[] test_point = new Point[4];<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match7-1.html#2',3,'match7-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>
		test_point[0] = new Point(-1.0, 0.0);
<A NAME="3"></A>		test_point[1] = new Point(0.0, 1.0);
		test_point[2] = new Point(1.0, 0.0);
		test_point[3] = new Point(0.0, -1</B></FONT>.0);
		Point current_<FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match7-1.html#3',3,'match7-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>point = new Point(0.0, 0.0);

		for (int i = 0; i &lt; n; i++) {
			current_point.x += arr[i].x;
			current_point.y += arr[i].y;
		}

		current_point.x /= n;
		current_point.y /= n;

		double minimum_distance = distSum(current_point, arr, n);

		int k = 0;
		while (k &lt; n) {
			for (int i = 0; i &lt; n &amp;&amp; i != k; i++) {
				Point newpoint = new Point(0.0, 0.0);
				newpoint.x = arr[i].x;
				newpoint.y = arr[i].y;
				double newd = distSum(newpoint, arr, n);
				if (newd &lt; minimum_distance) {
					minimum_distance = newd;
					current_point.x = newpoint.x;
					current_point.y = newpoint.y;
				}
			}
			k++;
		}

		double test_distance = 1000.0;
		int flag = 0;

		// Test loop for approximation starts here
		while (test_distance &gt; lower_limit) {

			flag = 0;

			// Loop for iterating over all 4 neighbours
			for (int i = 0; i &lt; 4; i++) {

				// Finding Neighbours done
				Point newpoint = new Point(0.0, 0.0);
				newpoint.x = current_point.x + (double) test_distance * test_point[i].x;
				newpoint.y = current_point.y + (double) test_distance * test_point[i].y;

				double newd = distSum(newpoint, arr, n);

				if (newd &lt; minimum_distance) {
					minimum_distance = newd;
					current_point.x = newpoint.x;
					current_point.y = newpoint.y;
					flag = 1;
					break;
				}
			}

			if (flag == 0)
				test_distance /= 2;
		}

		return minimum_distance;
<A NAME="4"></A>	}</B></FONT>
    
    public double getMinDistSum(int[][] positions) {
        <FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match7-1.html#4',3,'match7-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>int n=positions.length;
        Point[] ps=new Point[n];
        for (int i=0;i&lt;n;++i) {
        	ps[i]=new Point((double)positions[i][0], (double)positions[i][1]);
        }
        return this.geometricMedian(ps, n);
    }</B></FONT>
}
</PRE>

</BODY>
</HTML>
