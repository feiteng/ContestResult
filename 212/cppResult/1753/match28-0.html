<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>866_user7104i.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>866_user7104i.cpp</CENTER></H3><HR>
<PRE>
#define piii pair&lt;int , pair&lt;int,int&gt; &gt; 
#define mp make_pair
class Solution {
public:
    bool isposs(int x,int y,int rows,int cols)
    {
        if(x &gt;= rows || x &lt; 0 || y &lt; 0 || y &gt;= cols) return false;
        return true;
    }
    int minimumEffortPath(vector&lt;vector&lt;int&gt;&gt;&amp; heights) {
        priority_queue&lt; piii , vector&lt;piii&gt; , greater&lt;piii&gt; &gt; pq;
        pq.push(mp(0,mp(0,0)));
        int rows = heights.size();
        int cols = heights[0].size();
        bool visited[rows][cols];
        memset(visited,0,sizeof(visited));
        int dist[rows][cols];
        for(int i = 0 ; i &lt; rows ;i++)
            for(int j=0;j&lt;cols;j++)
                dist[i][j] = INT_MAX;
        dist[0][0] = 0;
        int ans = 0;
        int previous = 0;
        while(!pq.empty())
        {
            piii p = pq.top();
            pq.pop();
            int x = p.second.first;
            int y = p.second.second;
            if(visited[p.second.first][p.second.second]) continue;
<A NAME="0"></A>            visited[p.second.first][p.second.second] = true;
            ans = max(ans , p.first);
            if(x == rows-1 &amp;&amp; y == cols-1) break;
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match28-1.html#0',3,'match28-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>            previous = heights[x][y];
            if(isposs(x-1,y,rows,cols))
            {
                int effort = abs(heights[x][y] - heights[x-1][y]);
                if(effort &lt; dist[x-1][y])
                {
                    dist[x-1][y] = effort;
                    pq.push(mp(effort,mp(x-1,y)));
                }
            }
            if(isposs(x+1,y,rows,cols))
            {
                int effort = abs(heights[x][y] - heights[x+1][y]);
                if(effort &lt; dist[x+1][y])
                {
                    dist[x+1][y] = effort;
                    pq.push(mp(effort,mp(x+1,y)));
                }
            }
            if(isposs(x,y-1,rows,cols))
            {
                int effort = abs(heights[x][y] - heights[x][y-1]);
                if(effort &lt; dist[x][y-1])
                {
                    dist[x][y-1] = effort;
                    pq.push(mp(effort,mp(x,y-1)));
                }
            }
            if(isposs(x,y+1,rows,cols))
            {
                int effort = abs(heights[x][y] - heights[x][y+1]);
                if(effort &lt; dist[x][y+1])
                {
                    dist[x][y+1] = effort;
                    pq.push(mp(effort,mp(x,y+1)));
                }
            }
        }
        return ans;
    }
};</B></FONT>
</PRE>
</BODY>
</HTML>
