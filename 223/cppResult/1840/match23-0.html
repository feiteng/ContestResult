<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>729_felicia1994.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>729_felicia1994.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
    void unn(vector&lt;int&gt;&amp; parent, int x, int y) {
        int px = fnd(parent,x);
        int py = fnd(parent,y);
        parent[px] = py;
    }
    int fnd(vector&lt;int&gt;&amp; parent, int x) {
        if (parent[x]!=x) {
            int px;
            px = fnd(parent,parent[x]);
            parent[parent[x]] = px;
            return px;
        }
        else {
<A NAME="0"></A>            return x;
        }
    }
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match23-1.html#0',3,'match23-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>    int minimumHammingDistance(vector&lt;int&gt;&amp; source, vector&lt;int&gt;&amp; target, vector&lt;vector&lt;int&gt;&gt;&amp; allowedSwaps) {
        int n = source.size();
        vector&lt;int&gt; parent(n,-1);
<A NAME="1"></A>        for (int i=0;i&lt;n;i++) parent[i] = i;
        for (vector&lt;int&gt; p:allowedSwaps) {</B></FONT>
            unn(parent,p[0],p[1]);
<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match23-1.html#1',3,'match23-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>        }
        // for (int x:parent) cout &lt;&lt; x &lt;&lt; &quot; &quot;; cout &lt;&lt; endl;
        unordered_map&lt;int,unordered_set&lt;int&gt;&gt; umap;
        for (int i=0;i&lt;n;i++)
            umap[fnd(parent,i)].insert(i);
<A NAME="2"></A>        int ans = n;
        for (auto cycle:umap) {</B></FONT>
            // for (int x:cycle.second) cout &lt;&lt; x &lt;&lt; &quot; &quot;; cout &lt;&lt; endl;
<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match23-1.html#2',3,'match23-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>            unordered_map&lt;int,int&gt; tmp;
            for (int x:cycle.second) tmp[source[x]]++;
            for (int x:cycle.second) {
                if (tmp.find(target[x])!=tmp.end() and tmp[target[x]]!=0) {
                    ans--;
                    tmp[target[x]]--;
                }
            }
        }
        return ans;
    }</B></FONT>
};
</PRE>
</BODY>
</HTML>
