<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>160_nipungupta37.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>160_nipungupta37.cpp</CENTER></H3><HR>
<PRE>
#define mod 1000000007
typedef long long int ll ;
class Solution {
public:
    int maxProductPath(vector&lt;vector&lt;int&gt;&gt;&amp; grid) {
         ll n,m,i,j ;
        n=grid.size() ;
<A NAME="0"></A>        m=grid[0].size() ;
        ll arr[n][m] ;
        ll brr[n][m] ;
<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match6-0.html#0',2,'match6-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>        arr[0][0]=grid[0][0] ;
        brr[0][0]=grid[0][0] ;
        for(i=1;i&lt;m;i++)
        {
            arr[0][i]=grid[0][i]*arr[0][i-1] ;
            brr[0][i]=arr[0][i] ;
        }
        for(i=1;i&lt;n;i++)
        {
             arr[i][0]=grid[i][0]*arr[i-1][0] ;
            brr[i][0]=arr[i][0] ;
        }
        for(i=1;i&lt;n;i++)
        {
            for(j=1;j&lt;m;j++)
            {
                if(grid[i][j]&gt;0)
                {
                    arr[i][j]=max(arr[i][j-1],arr[i-1][j])*grid[i][j] ;
                    brr[i][j]=grid[i][j]*min(brr[i-1][j],brr[i][j-1]) ;
                }
                else if(grid[i][j]&lt;0)
                {
                    arr[i][j]=min(brr[i][j-1],brr[i-1][j])*grid[i][j] ;
                    brr[i][j]=grid[i][j]*max(arr[i-1][j],arr[i][j-1]) ;
                }
                else {
                     arr[i][j]=0 ;
                      brr[i][j]=0 ;
                }
                
            }
        }
        if(arr[n-1][m-1]&lt;0)
        {
            return -1 ;
        }
        return arr[n-1][m-1]%mod ;
        
        }
};</B></FONT>
</PRE>
</BODY>
</HTML>
