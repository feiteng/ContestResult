<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>155_jdluckyday.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>155_jdluckyday.py</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match36-1.html#0',3,'match36-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>class Solution:
    def getCollisionTimes(self, cars: List[List[int]]) -&gt; List[float]:
        carsLen = len(cars)
        ans = [-1 for _ in range(carsLen)]
        preCar = [[cars</B></FONT>[-1][0], cars[-1][1], 0]]
        
#         for i in range(carsLen - 2, -1, -1):
#             l, s = cars[i]
#             t = 0
#             if s &lt;= preCar[0][1]:
#                 ans[i] = -1
#             else:
#                 newCar = [[l, s, 0]]
#                 while True:
#                     l0, s0, t0 = preCar[-1]
#                     if s &lt;= s0:
#                         preCar.pop(-1)
#                     else:
#                         tCatch = (l0 - l)/(s-s0)
#                         sCatch = s*tCatch
#                         if len(preCar) &gt; 0:
#                             if preCar[-2][0] &gt; (sCatch + s):
#                                 ans[i]                        
                            
        
        carList = [[l, s, 0] for l, s in cars]
        preSlow = cars[-1][1]
        
        for i in range(carsLen-2, -1, -1):
            l, s = cars[i]
            if s &lt;= preSlow:
                ans[i] = -1
                preSlow = s
                continue
            for j in range(i+1, carsLen):
                l1, s1 = cars[j]
                if s1 &gt;= s:
                    continue
                tCatch = (l1-l)/(s-s1)
                if ans[j] &gt; -1 and tCatch &gt; ans[j]:
                    continue
                ans[i] = tCatch
                break
        return ans
                
                
        
#         for i in range(carsLen-2, -1, -1):
#             l, s, t = carList[i]
#             l1, s1, t1 = carList[i+1]
#             if s &lt;= s1:
#                 ans[i] = -1
#             else:
#                 tCatch = (l1)
                
                
#                 if t1 &gt;= t:
#                     l += s*(t1-t)
#                     tCatch = (l1 - l)/(s-s1)
#                     ans[i] = tCatch + t1
#                     carList[i] = [carList[i][0] + ans[i]*s, s1, ans[i]]
#                 else:
#                     ans[i] = (cars[i+1][0] - cars[i][0])/(cars[i+1][1] - cars[i][1])
#         return ans
</PRE>

</BODY>
</HTML>
