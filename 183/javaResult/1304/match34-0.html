<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>567_haroldli.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>567_haroldli.java</CENTER></H3><HR>
<PRE>
class Solution {
    public String longestDiverseString(int a, int b, int c) {
        a = Math.max(a, 0);
        b = Math.max(b, 0);
        c = Math.max(c, 0);
        
        StringBuilder sb = new StringBuilder();
        int max = Math.max(a, Math.max(b, c));
        int sum = a + b + c;
        int restSum = sum - max;
        int[] count = new int[3];
<A NAME="0"></A>        count[0] = a;
        count[1] = b;
        count[2] = c;
        if (max &gt; restSum * 2 + 2) <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match34-1.html#0',3,'match34-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>{
            if (max == count[0]) {
                return helper(restSum * 2 + 2, b, c);
            } else if (max == count[1]) {
                return helper(a, restSum * 2 + 2, c);
            }</B></FONT> else {
                return helper(a, b, restSum * 2 + 2);
            }
        }
        
        int round = max / 2 + (max % 2 == 0 ? 0 : 1);
        if (max == a) {
            int countB = b / round, leftB = b % round, countC = c / round, leftC = c % round;
            for (int i = 0; i &lt; round; i ++) {
                if (i == round - 1 &amp;&amp; max % 2 == 1) {
                    sb.append(&quot;a&quot;);
                } else {
<A NAME="1"></A>                    sb.append(&quot;aa&quot;);
                }
                
                if (countB == 0 &amp;&amp; countC == 0) <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match34-1.html#1',3,'match34-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>{
                    if (leftB + leftC &gt; round - i) {
                        sb.append(&quot;bc&quot;);
                        leftB --;
                        leftC --;
                    } else if (leftB &gt; 0) {
                        sb.append</B></FONT>(&quot;b&quot;);
                        leftB --;
                    } else if (leftC &gt; 0) {
                        sb.append(&quot;c&quot;);
                        leftC --;
                    }
                } else {
                    if (countB &gt; 0) {
                        sb.append(countB == 1 ? &quot;b&quot; : &quot;bb&quot;);
                    }
                    if (countC &gt; 0) {
                        sb.append(countC == 1 ? &quot;c&quot; : &quot;cc&quot;);
                    }
                    
                    if (leftB &gt; 0) {
                        sb.append(&quot;b&quot;);
                        leftB --;
                    }
                    
                    if (leftC &gt; 0) {
                        sb.append(&quot;c&quot;);
                        leftC --;
                    }
                }
            }         
            
        } else if (max == b) {
            int countA = a / round, leftA = a % round, countC = c / round, leftC = c % round;
            for (int i = 0; i &lt; round; i ++) {
                if (i == round - 1 &amp;&amp; max % 2 == 1) {
                    sb.append(&quot;b&quot;);
                } else {
                    sb.append(&quot;bb&quot;);
                }
                
                if (countA == 0 &amp;&amp; countC == 0) {
                    if (leftA + leftC &gt; round - i) {
                        sb.append(&quot;ac&quot;);
                        leftA --;
                        leftC --;
                    } else if (leftA &gt; 0) {
                        sb.append(&quot;a&quot;);
                        leftA --;
                    } else if (leftC &gt; 0) {
                        sb.append(&quot;c&quot;);
                        leftC --;
                    }
                } else {
                    if (countA &gt; 0) {
                        sb.append(countA == 1 ? &quot;a&quot; : &quot;aa&quot;);
                    }
                    if (countC &gt; 0) {
                        sb.append(countC == 1 ? &quot;c&quot; : &quot;cc&quot;);
                    }
                    
                    if (leftA &gt; 0) {
                        sb.append(&quot;a&quot;);
                        leftA --;
                    }
                    
                    if (leftC &gt; 0) {
                        sb.append(&quot;c&quot;);
                        leftC --;
                    }
                }
            }
            
            
        } else {
            int countA = a / round, leftA = a % round, countB = b / round, leftB = b % round;
            // System.out.println(countA + &quot;:::&quot; + leftA + &quot;:::&quot; + countB + &quot;:::&quot; + leftB);
            for (int i = 0; i &lt; round; i ++) {
                if (i == round - 1 &amp;&amp; max % 2 == 1) {
                    sb.append(&quot;c&quot;);
                } else {
                    sb.append(&quot;cc&quot;);
                }
                if (countA == 0 &amp;&amp; countB == 0) {
                    if (leftA + leftB &gt; round - i) {
                        sb.append(&quot;ab&quot;);
                        leftA --;
                        leftB --;
                    } else if (leftA &gt; 0) {
                        sb.append(&quot;a&quot;);
                        leftA --;
                    } else if (leftB &gt; 0) {
                        sb.append(&quot;b&quot;);
                        leftB --;
                    }
                } else {
                    if (countA &gt; 0) {
                        sb.append(countA == 1 ? &quot;a&quot; : &quot;aa&quot;);
                    }
                    if (countB &gt; 0) {
                        sb.append(countB == 1 ? &quot;b&quot; : &quot;bb&quot;);
                    }
                    
                    if (leftA &gt; 0) {
                        sb.append(&quot;a&quot;);
                        leftA --;
                    }
                    
                    if (leftB &gt; 0) {
                        sb.append(&quot;b&quot;);
                        leftB --;
<A NAME="2"></A>                    }
                }
            }
        <FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match34-1.html#2',3,'match34-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}
        
        return sb.toString();
    }
    
    private String helper(int a, int b, int c</B></FONT>) {
<A NAME="3"></A>        StringBuilder sb = new StringBuilder();
        if (a &gt; b &amp;&amp; a &gt; c) {
            while (b &gt; 0 || c &gt; 0) {
                <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match34-1.html#3',3,'match34-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>if (b &gt; 0) {
                    sb.append(&quot;aab&quot;);
                    b --;
                } else {
                    sb.append(&quot;aac&quot;);
                    c --;
                }
            }</B></FONT>
            sb.append(&quot;aa&quot;);
        } else if (b &gt; a &amp;&amp; b &gt; c) {
            while (a &gt; 0 || c &gt; 0) {
                if (a &gt; 0) {
                    sb.append(&quot;bba&quot;);
                    a --;
                } else {
                    sb.append(&quot;bbc&quot;);
                    c --;
                }
            }
            sb.append(&quot;bb&quot;);
        } else {
            while (a &gt; 0 || b &gt; 0) {
                if (a &gt; 0) {
                    sb.append(&quot;cca&quot;);
                    a --;
                } else {
                    sb.append(&quot;ccb&quot;);
                    b --;
                }
            }
            sb.append(&quot;cc&quot;);
        }
        
        return sb.toString();
    }
}
</PRE>

</BODY>
</HTML>
