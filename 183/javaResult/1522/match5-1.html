<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>201_Cicindela.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>201_Cicindela.java</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match5-0.html#0',2,'match5-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>class Solution {

	public String stoneGameIII(int[] stoneValue) {
		Integer a[] = new Integer[stoneValue.length], b[] = new Integer[stoneValue.length], sum = 0;
		int[] psum = new int[stoneValue.length];
		for (int value : stoneValue) {
			sum += value;
		}
		psum[stoneValue.length - 1] = stoneValue[stoneValue.length - 1];
		for (int i = stoneValue.length - 2; i &gt;= 0; i--) {
			psum[i] = psum[i + 1] + stoneValue[i];
		}
		a(stoneValue, a, b, 0, psum);
		return sum % 2 == 0 &amp;&amp; a[0] == sum / 2 ? &quot;Tie&quot; : a[0] &gt; sum - a[0] ? &quot;Alice&quot; : &quot;Bob&quot;;
	}

	private int a(int[] stoneValue, Integer[] a, Integer[] b, int index, int[] sum) {
		if (index &gt;= a.length) {
<A NAME="3"></A>			return 0;
		} else if (a[index] != null) {</B></FONT>
			return sum[index] - a[index];
		} else {<FONT color="#6cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match5-0.html#3',2,'match5-top.html#3',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>
			a[index] = Integer.MIN_VALUE;
			a[index] = Math.max(a[index], b(stoneValue, a, b, index + 1, sum) + get(stoneValue, index));
			a[index] = Math.max(a[index],
					b(stoneValue, a, b, index + 2, sum) + get(stoneValue, index) + get(stoneValue, index + 1));
			a[index] = Math.max(a[index], b(stoneValue, a, b, index + 3, sum) + get(stoneValue, index)
<A NAME="2"></A>					+ get(stoneValue, index + 1) + get(stoneValue, index + 2));</B></FONT>
			return sum[index] - a[index];
		}
	}<FONT color="#77bfc7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match5-0.html#2',2,'match5-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>

	private int b(int[] stoneValue, Integer[] a, Integer[] b, int index, int[] sum) {
		if (index &gt;= b.length) {
			return 0;
<A NAME="1"></A>		} else if (b[index] != </B></FONT>null) {
			return sum[index] - b[index];
		} else {
			b[index] = Integer.MI<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match5-0.html#1',2,'match5-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>N_VALUE;
			b[index] = Math.max(b[index], a(stoneValue, a, b, index + 1, sum) + get(stoneValue, index));
			b[index] = Math.max(b[index],
					a(stoneValue, a, b, index + 2, sum) + get(stoneValue, index) + get(stoneValue, index + 1));
			b[index] = Math.max(b[index], a(stoneValue, a, b, index + 3, sum) + get(stoneValue, index)
<A NAME="4"></A>					+ get(stoneValue, index + 1) + get(stoneValue, index + 2));</B></FONT>
			return sum[index] - b[index];
		}
	}<FONT color="#151b8d"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match5-0.html#4',2,'match5-top.html#4',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>

	private int get(int[] stoneValue, int index) {
		if (index &gt;= stoneValue.length) {
			return 0;
		} else {
			return stoneValue[index];
		}
	}
}</B></FONT>
</PRE>

</BODY>
</HTML>
