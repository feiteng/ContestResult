<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>33_htedsv-i.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>33_htedsv-i.cpp</CENTER></H3><HR>
<PRE>
#include &lt;bits/stdc++.h&gt;
using namespace std;
#define INF 2147483647
#define infL (1LL&lt;&lt;60)
#define inf (1&lt;&lt;30)
#define inf9 (1000000000)
#define MOD 1000000007//998244353//1000000007
#define EPS 1e-9
#define Gr 9.8
#define PI acos(-1)
#define REP(i,n) for(int (i)=0;(i)&lt;(int)(n);(i)++)
#define REQ(i,n) for(int (i)=1;(i)&lt;=(int)(n);(i)++)
#define lch (rt&lt;&lt;1)
#define rch (rt&lt;&lt;1|1)
#define readmp(n) for(int i=0,u,v;i&lt;n;i++) {scanf(&quot;%d%d&quot;,&amp;u,&amp;v); mp[u].push_back(v); mp[v].push_back(u);}
typedef  long long ll;
typedef pair&lt;int, int&gt; pii;
typedef pair&lt;ll, ll&gt; pll;
typedef long double ld;
typedef unsigned int uint;
typedef unsigned long long ull;
typedef ll ValType;
template&lt;typename  T&gt; void maxtt(T&amp; t1, T t2) {
    t1=max(t1,t2);
}
template&lt;typename  T&gt; void mintt(T&amp; t1, T t2) {
    t1=min(t1,t2);
}
#define MAX 135

bool debug = 0;
int n,m,k;
int dx[4] = {0,1,0,-1}, dy[4] = {1,0,-1,0};
string direc=&quot;URDL&quot;;//&quot;RDLU&quot;;
const ll MOD2 = (ll)MOD * (ll)MOD;
ll ln, lk, lm;
void etp(bool f = 0) {
    puts(f ?&quot;YES&quot; : &quot;NO&quot;);
    exit(0);
}
void addmod(int &amp;x, int y, int mod = MOD){
    x+=y; if (x&gt;=mod) x-=mod;
    if(x&lt;0) x+=mod;
    assert(x&gt;=0 &amp;&amp; x&lt;mod);
}
void et(int x=-1) {
    printf(&quot;%d\n&quot;, x); exit(0);
}
ll fastPow(ll x, ll y, int mod=MOD) {
    ll ans = 1;
    while(y&gt;0) {
        if(y&amp;1) ans = (x * ans)%mod;
        x = x*x%mod;
        y&gt;&gt;=1;
    }
    return ans;
}
ll gcd1(ll x, ll y) {
    return y?gcd1(y,x%y):x;
}





void fmain(int tid) {
    
}

<A NAME="0"></A>class Solution {
public:
    int tr[30*100005][2],cnt=0;
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match33-1.html#0',3,'match33-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>    void add(int x) {
        int rt=0;
        for(int j=29;j&gt;=0;j--) {
            int num=(x&gt;&gt;j)&amp;1;
            if (tr[rt][num]==0) tr[rt][num]=++cnt;
            rt=tr[rt][num];</B></FONT>
//            sz[rt]++;
        }
<A NAME="1"></A>    }
    int qy(int x) {
        int rt=0;
<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match33-1.html#1',3,'match33-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>        int ans=0;
        for(int j=29;j&gt;=0;j--) {
            int num=(x&gt;&gt;j)&amp;1;
            if (tr[rt][num^1]) {
                ans+=1&lt;&lt;j; rt=tr[rt][num^1];
            } else if(tr[rt][num]) {
                rt=tr[rt][num];
            } else return -1;
        }
        return ans;
    }</B></FONT>
    vector&lt;int&gt; maximizeXor(vector&lt;int&gt;&amp; nums, vector&lt;vector&lt;int&gt;&gt;&amp; queries) {
        n=nums.size();
        sort(nums.begin(), nums.end());
        m=queries.size();
        vector&lt;pii&gt; vp;
        REP(i,m) {
            vp.push_back({queries[i][1],i});
        }
        sort(vp.begin(), vp.end());
        vector&lt;int&gt; ans(m, -1);
        cnt=0;
        memset(tr,0,sizeof tr);
//        memset(sz,0,sizeof sz);
        for(int i=0,j=0;i&lt;m;i++) {
            int id=vp[i].second;
            int x=queries[id][0], tar=queries[id][1];
            while (j&lt;n &amp;&amp; nums[j]&lt;=tar) {
                add(nums[j]); j++;
            }
            ans[id]=qy(x);
        }
        return ans;
    }
};

</PRE>
</BODY>
</HTML>
