<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>666_rokanor.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>666_rokanor.java</CENTER></H3><HR>
<PRE>
class Solution {
    public int findMaxValueOfEquation(int[][] points, int k) {
        int max = Integer.MIN_VALUE;
        PriorityQueue&lt;int[]&gt; pqMax = new PriorityQueue&lt;&gt;((a, b) -&gt; -b[0] + b[1] - (-a[0] + a[1]));
        PriorityQueue&lt;int[]&gt; pqMin = new PriorityQueue&lt;&gt;((a, b) -&gt; b[0] + b[1] - (a[0] + a[1]));
        
        int[] cur = new int[]{points[0][0], points[0][1], 0};
        // System.out.println(&quot;pushing in: &quot; +Arrays.toString(cur));
        pqMax.offer(cur);
        pqMin.offer(cur);
        int j = 0;
        for (int i = 1; i &lt; points.length; i++) {
          cur = new int[]{points[i][0], points[i][1], i};
          // System.out.println(&quot;pushing in: &quot; +Arrays.toString(cur));
          pqMax.offer(cur);
          pqMin.offer(cur);
            
          // System.out.println(pq.size());
          while(j &lt; i &amp;&amp; points[j][0] &lt; points[i][0] - k) {
            j++;
          }
<A NAME="0"></A>
          int[] first = null;
          int[] first2 = null;
          <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match36-1.html#0',3,'match36-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>while (!pqMin.isEmpty() &amp;&amp; pqMin.peek()[2] &lt; j) {
            pqMin.poll();
          }
          if (!pqMin.isEmpty()) {
              first = pqMin.poll</B></FONT>();
          }
          while (!pqMin.isEmpty() &amp;&amp; pqMin.peek()[2] &lt; j) {
            pqMin.poll();
          }
          if (!pqMin.isEmpty()) {
              first2 = pqMin.poll();
          }
            
          // System.out.println(&quot;first: &quot; + Arrays.toString(first));
            
          int[] second = null;
          int[] second2 = null;
          // System.out.println(&quot;top: &quot; + Arrays.toString(pq.peek()));
          while (!pqMax.isEmpty() &amp;&amp; pqMax.peek()[2] &lt; j) {
<A NAME="1"></A>            pqMax.poll();
          }
          if (!pqMax.isEmpty()) {
              second = <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match36-1.html#1',3,'match36-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>pqMax.poll();
          }
          while (!pqMax.isEmpty() &amp;&amp; pqMax.peek()[2] &lt; j) {
            pqMax.poll();
          }</B></FONT>
          if (!pqMax.isEmpty()) {
              second2 = pqMax.poll();
          }    
          int[] f = null;
          int[] s = null;
          if (first != second) {
              max = Math.max(max, calc(first, second));
          } else {
              if (first != second2) max = Math.max(max, calc(first, second2));
              if (first2 != second) max = Math.max(max, calc(first2, second));
              
          }
        
          // System.out.println(&quot;second: &quot; + Arrays.toString(second));
          if (first != null) pqMin.offer(first);
          if (first2 != null) pqMin.offer(first2);
          if (second != null) pqMax.offer(second);
          if (second2 != null) pqMax.offer(second2);            
        }
        return max;
    }
    
    int calc(int[] first, int[] second) {
        if (first == null || second == null) return Integer.MIN_VALUE;
        return Math.abs(first[0] - second[0]) + first[1] + second[1];
    }
}
</PRE>

</BODY>
</HTML>
