<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>627_john35452.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>627_john35452.py</CENTER></H3><HR>
<PRE>
<A NAME="0"></A>class Node:
    def __init__(self, num, apple, child=None):
        self<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match29-1.html#0',3,'match29-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>.num =num
        self.apple = apple
        self.child = child
class Solution:
    def minTime(self, n: int, edges: List[List[int]], hasApple: List[</B></FONT>bool]) -&gt; int:
        
        def dfs(node):
            #print(node.num, ans)
            if not node:
                return False
            else:
                res = False
                for k in node.child:
                    if dfs(k):
                        ans[0] += 2
                        res = True
                #if res:
<A NAME="1"></A>                #    ans[0] += 1
                return res | node.apple
        
        graph <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match29-1.html#1',3,'match29-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>= {k:[] for k in range(n)}
        for x, y in edges:
            graph[x].append(y)
            graph[y].append(x)
        #print('graph:',graph)
        
        nodes = [Node(</B></FONT>k, hasApple[k], []) for k in range(n)]
        current = set([0])
        used = set()
        while current:
            #print(current)
            nextStep = set()
            used.update(current)
<A NAME="2"></A>            for k in current:
                for s in graph[k]:
                    if s not in used:
                        nodes<FONT color="#77bfc7"><A HREF="javascript:ZweiFrames('match29-1.html#2',3,'match29-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>[k].child.append(nodes[s])
                        nextStep.add(s)
                #print(k, [v.num for v in nodes[k].child])
            current =</B></FONT> nextStep
        #print([len(k.child) for k in nodes])
        ans = [0]
        dfs(nodes[0])
        return ans[0]
</PRE>

</BODY>
</HTML>
