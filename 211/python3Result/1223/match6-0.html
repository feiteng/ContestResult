<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>537_zy_.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>537_zy_.py</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match6-1.html#0',3,'match6-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>class Solution:
    def areConnected(self, n: int, threshold: int, queries: List[List[int]]) -&gt; List[bool]:
        
        fa = [x for x in range(n+1)]
        def find(x):
            if x == fa[x]:
                return x
            fa[x] = find(fa[x])
            return fa[</B></FONT>x]
        def union(x, y):
            a, b  = find(x), find(y)
            if a != b:
                fa[a] = b
        
        for k in range(threshold+1, n+1):
<A NAME="1"></A>            cur = k
            i = 2
            while k * i &lt;= n:
                union<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match6-1.html#1',3,'match6-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>(k*i, cur)
                i += 1
        
        ans = []
        for a, b in queries:
            ans.append(find(a)==find(b))
        re</B></FONT>turn ans
        
#         graph = {(i+1):set() for i in range(n)}
#         for a in range(1, n+1):
#             for b in range(a+1, n+1):
#                 if gcd(a, b) &gt; threshold:
#                     graph[a].add(b)
#                     graph[b].add(a)
        
#         block = []
        
#         pointset = set()
#         visit = set()
#         def dfs(i):
#             if i in visit:
#                 return
#             nonlocal pointset
#             pointset.add(i)
#             visit.add(i)
#             for child in graph[i]:
#                 dfs(child)
        
#         for i in range(1, n+1):
#             pointset = set()
#             dfs(i)
#             block.append(pointset)
        
#         # ans = []
#         # for a, b in queries:
#         #     for x in block:
#         #         if a in x and b in x:
#         #             ans.append(True)
#         #             break
#         #         elif a in x:
#         #             ans.append(False)
#         #             break
#         #         elif b in x:
#         #             ans.append(False)
#         #             break
#         fa = {}
#         idx = 0
#         for blo in block:
#             for x in blo:
#                 fa[x] = idx
#             idx += 1
        
#         ans = []
#         for a, b in queries:
#             ans.append(fa[a]==fa[b])
#         return ans
            
            
            
            
</PRE>

</BODY>
</HTML>
