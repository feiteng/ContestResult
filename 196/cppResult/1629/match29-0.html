<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>33_balakrishnan_v.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>33_balakrishnan_v.cpp</CENTER></H3><HR>
<PRE>
class Solution {
public:
<A NAME="0"></A>    

    
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match29-1.html#0',3,'match29-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>    int read(int idx, const vector&lt;int&gt;&amp; tree){
        int sum = 0;
        while (idx &lt; tree.size()){
            sum += tree[idx];
            idx += (idx &amp; -idx);
        }
        return sum;
    }

    void update(int idx , vector&lt;int&gt;* tree){
        while (idx &gt; 0){
            (*tree)[idx] ++;
            idx -= (idx &amp; -idx);
        }
    }    </B></FONT>
    
    string minInteger(string num, int k) {
        int N=num.size();
        vector&lt;int&gt; poss[10];
        vector&lt;int&gt; curr(10, 0);
        for(int i=0;i&lt;N;i++) {
            poss[num[i]-'0'].push_back(i);
        }
        vector&lt;bool&gt; done(N, false);
        string ans=&quot;&quot;;
        
        vector&lt;int&gt; tree(N+2, 0);
        
        for(int i=0;i&lt;N;i++) {
            
            for(int d=0;d&lt;=9;d++) {
                if (poss[d].size() == curr[d]) continue;
<A NAME="1"></A>                int reqd = poss[d][curr[d]];
                int ct = poss[d][curr[d]]-i;
                                
<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match29-1.html#1',3,'match29-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>                ct = poss[d][curr[d]]-i+read(reqd+1, tree);
                if (ct &lt;= k) {
                    update(reqd+1, &amp;tree);
                    curr[d]++;
                    k-=ct;
                    ans.push_back(d+'0');
                    break;
                }
            }
        }
        return ans;
    }
};</B></FONT>
</PRE>
</BODY>
</HTML>
