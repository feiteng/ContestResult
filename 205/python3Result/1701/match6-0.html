<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>143_enzo64.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff">
<HR>
<H3><CENTER>143_enzo64.py</CENTER></H3><HR>
<PRE>
<A NAME="0"></A><FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match6-1.html#0',3,'match6-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>class Solution:
    def maxNumEdgesToRemove(self, n: int, edges: List[List[int]]) -&gt; int:
        
        f = [i for i in range(n)]
        
        def gf(i):
            if(f[i] == i):
                return i
            ff = gf(f[i])
            f[i] = ff
            return ff
        
        def blk():
            r = 0
            for i in range(n):
                if(f[i] == i):
                    r += 1
            return r
        
        r3 = 0
        
        for i in range(len(edges)):
            edges[i][1] -= 1
            edges[i][2] -= 1
        
        for tu in edges:
            if(tu[0] == 3):
                x, y = gf(tu[1]), gf(tu[2])
                if(x == y):
                    r3 += 1
                else:
                    f[x] = y
        
        r1 = 0
        
        for tu in edges:
            if(tu[0] == 1):
                x, y = gf(tu[1]), gf(tu[2])
                if(x == y):
                    r1 += 1
                else:
                    f[x] = y
        
        if(blk() != 1):
            return -1
        
        for i in range(n):
            f[i] = i
        for tu in edges:
            if(tu[0] == 3):
                x,y = gf(tu[1]), gf(tu[2])
                f[x] = y
        
        r2 = 0
        
        for tu in edges:
            if(tu[0] == 2):
                x, y = gf(tu[1]), gf(tu[2])
                if(x == y):
                    r2 += 1
                else:
                    f[x] = y
        
        
        if(blk() != 1):
            return -1        
        
        re</B></FONT>turn r1 + r2 + r3
        
            
</PRE>

</BODY>
</HTML>
