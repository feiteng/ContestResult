<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
 <TITLE>299_bdts.py</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
  <!--
   function ZweiFrames(URL1,F1,URL2,F2)
   {
    parent.frames[F1].location.href=URL1;
    parent.frames[F2].location.href=URL2;
   }
  //-->
  </script>
</HEAD>
<BODY BGCOLOR="#ffffff" style="margin-left:25">
<HR>
<H3><CENTER>299_bdts.py</CENTER></H3><HR>
<PRE>
class Solution(object):
    def maxDotProduct(self, nums1, nums2):
        &quot;&quot;&quot;
        :type nums1: List[int]
        :type nums2: List[int]
        :rtype: int
        &quot;&quot;&quot;

        import sys
        m, n = len(nums1), len(nums2)
        d = [[-sys.maxsize for i in range(n)] for j in range(m)]
        f = [[-sys.maxsize for i in range(n)] for j in range(m)]
        # res = f[0][0] = d[0][0] = nums1[0] * nums2[0]
        #
        # # res = -sys.maxsize
        # for i in range(1, n):
        #     d[0][i] = nums1[0] * nums2[i]
        #     res = max(res, d[0][i])
        #     f[0][i] = res
        #
        # for i in range(1, m):
        #     d[i][0] = nums1[i] * nums2[0]
        #     res = max(res, d[i][0])
        #     f[i][0] = res

        res = -sys.maxsize
        for i in range(0, m):
            for j in range(0, n):
                # max_ = -sys.maxsize
                if i == 0 or j == 0:
                    d[i][j] = nums1[i] * nums2[j]
                    res = max(res, d[i][j])
                    if i == 0 and j == 0:
                        f[i][j] = d[i][j]
                        continue
                    if i == 0:
                        f[i][j] = max(d[i][j], f[i][j - 1])
                    elif j == 0:
                        f[i][j] = max(d[i][j], f[i - 1][j])
                else:
                    d[i][j] = nums1[i] * nums2[j]
<A NAME="0"></A>                    if f[i - 1][j - 1] &gt; 0:
                        d[i][j] += f[i - 1][j - 1]
                    res = max(res, d[i][j])
                    f<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match25-0.html#0',2,'match25-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>[i][j] = max(d[i][j], f[i - 1][j], f[i][j - 1], f[i - 1][</B></FONT>j - 1])
                # for k in range(1, j + 1):
                #     if d[i - 1][j - k] + nums1[i] * nums2[j - k + 1] &gt; max_:
                #         max_ = d[i - 1][j - k] + nums1[i] * nums2[j - k + 1]
                #     # max_ = max(max_, d[i - 1][j - k] + nums1[i] * nums2[j - k + 1])
                # for k in range(1, i + 1):
                #     if d[i - k][j - 1] + nums1[i - k + 1] * nums2[j] &gt; max_:
                #         max_ = d[i - k][j - 1] + nums1[i - k + 1] * nums2[j]
                #     # max_ = max(max_, d[i - k][j - 1] + nums1[i - k + 1] * nums2[j])
                # d[i][j] = max_
                # res = max(res, d[i][j])
                # if d[i][j] &lt; 0:
                #     d[i][j] =
                # print('d[%d][%d]=%d res=%d' % (i, j, d[i][j], res))
        return res
</PRE>

</BODY>
</HTML>
